<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Incluir Font Awesome para usar los íconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
     
    <meta charset="UTF-8"> <!-- Configura el juego de caracteres como UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>

    <!-- Hoja de estilos externa --> 
    <link rel="stylesheet" href="styles.css">  

     <!-- Estilos internos --> 
    <style>
        /* Estilo general */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* Incluye el padding y el borde en el tamaño total del elemento */
        }
        /* Estilo del encabezado */
        header {
            background-color: #5b2727;
            color: white; /* Texto blanco */
            padding: 20px; /* Espaciado interno */
            text-align: center;
        }
        
        /* Navegación principal */
        
        nav {
            display: flex; /* Usa un contenedor flex para alinear elementos horizontalmente */
            justify-content: center;
            /*margin: 20px 0; /* Margen arriba y abajo */
        }
         /* Estilo de los botones del menú principal */
        button {
            background-color: #5b2727;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            margin-top: 8px;
            cursor: pointer; /* Cambia el cursor al pasar el mouse */
            font-size: 16px;
            border-radius: 10px;
            width: fit-content;
        }
         /* Cambio de color al pasar el mouse por encima de los botones */
        button:hover {
            background-color: #4b2121; /* Un tono más oscuro de verde */
        }

        .filter-btn {
            background: linear-gradient(to bottom, #9b9b9b, #5c5c5c); /* Degradado gris claro a oscuro */
            color: white; /* Texto blanco */
            padding: 6px 10px; /* Ajusta el espaciado interno */
            font-size: 12px; /* Tamaño de fuente menor */
            border: none;
            border-radius: 12px; /* Bordes redondeados */
            margin: 10px; /* Espaciado alrededor */
            margin-top: 2px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Sombra ligera */
            transition: all 0.3s ease; /* Transición suave */
        }
        
        .filter-btn:hover {
            background-color: #bfbfbf; /* Gris más oscuro */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* Sombra más intensa */
            transform: scale(1.05); /* Efecto de agrandamiento */
        }

        /* Botón personalizado (Usado en Ver Libros)*/
        .custom-button {
          background: linear-gradient(to bottom, #692d2d, #3f2222); /* Degradado verde */
          color: white; /* Texto blanco */
          border: none; /* Sin borde */
          border-radius: 20px; /* Bordes redondeados */
          padding: 10px 20px; /* Espaciado interno */
          font-size: 14px; /* Tamaño de la fuente */
          font-weight: bold; /* Texto en negrita */
          cursor: pointer; /* Cursor en forma de mano */
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* Sombra del botón */
          transition: all 0.3s ease; /* Transición para efectos */
        }
        
        /* Hover: efecto al pasar el mouse */
        .custom-button:hover {
          background: linear-gradient(to bottom, #773434, #572d2d); /* Degradado más claro */
          box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4); /* Sombra más fuerte */
          transform: translateY(-2px); /* Botón se eleva */
        }
        
        /* Active: efecto al hacer clic */
        .custom-button:active {
          background: linear-gradient(to bottom, #572626, #391f1f); /* Degradado más oscuro */
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Sombra más pequeña */
          transform: translateY(2px); /* Botón se hunde */
        }
        
         /* Tarjetas de categorías */
        .category-card {
            display: flex;
            margin: 20px;
            border: 2px solid #5b2727;
            padding: 10px;
            object-fit: cover;  /* Asegura que la imagen cubra el área sin distorsionarse */
        }
        
        .category-cover {
            height: 100px;
            width: 100px;
            margin-right: 20px;
            object-fit: cover;
            object-position: center;
        }
        
        .category-details {       
            display: flex;
            flex-direction: column; /* Alinea elementos en una columna */
            justify-content: flex-start;
        }
        
        .category-name {
            font-weight: bold; /* Texto en negrita */
            font-size: 18px;
        }
        
        .category-description {
            font-size: 14px; /* Tamaño de fuente más pequeño */
            margin-top: 5px;
        }
        /* Tarjetas de libros */
        .book-card {
            display: flex;                  /* Alinea los elementos en fila horizontal */
            align-items: flex-start;            /* Centra verticalmente los elementos */
            margin: 10px 0;                 /* Espaciado vertical entre tarjetas */
            padding: 10px;                  /* Espaciado interno */
            border: 1px solid #ddd;         /* Borde gris claro */
            flex-wrap: nowrap;              /* Impide que los elementos se muevan a otra línea */
            position: relative; 
        }
        
        /* Imagen de la portada */
        .book-cover {
            width: 100px;                   /* Ancho fijo */
            height: 150px;                  /* Alto fijo */
            margin-right: 20px;             /* Espaciado con los detalles */
            object-fit: fill;
            object-position: center;
        }
        
        /* Detalles del libro */
        .book-details {
            display: flex;                  /* Alinea los detalles internamente */
            flex-direction: column;         /* Organiza los elementos en columna */
            justify-content: space-between; /* Espacia los elementos uniformemente */
            flex-grow: 1;                   /* Permite que esta sección crezca si es necesario */
        }
        
        /* Título del libro */
        .book-title {
            font-size: 18px;                /* Tamaño del texto */
            font-weight: bold;              /* Texto en negrita */
            margin: 0;                      /* Elimina márgenes extra */
        }
        
        /* Autor del libro */
        .book-author {
            font-size: 14px;                /* Tamaño del texto */
            margin: 0;                      /* Elimina márgenes extra */
        }
        
        /* Estilos base para los recuadros de estado */
        .status-box {
            position: absolute;
            bottom: 10px;
            display: inline-block;          /* Asegura que se ajuste al contenido */
            padding: 5px 15px;             /* Espaciado interno */
            font-size: 11px;               /* Tamaño del texto */
            text-align: center;            /* Centra el texto */
            border: 2px solid transparent; /* Borde inicial transparente */
            border-radius: 4px;            /* Bordes redondeados */
            background-color: transparent; /* Fondo transparente inicial */
            color: white;                  /* Texto blanco inicial */
            cursor: default;               /* No interacción */
            margin-top: auto;            /* Mantiene el recuadro al final */
        }
        
        /* Estado disponible */
        .status-available {
            background-color: #4CAF50 !important;     /* Verde para disponible */
            border-color: #4CAF50 !important;        /* Borde verde */
            color: white !important;                  /* Texto blanco */
            width: 50px;         
            height: 12px;  
            line-height: 12px;  
        }
        
        /* Estado no disponible */
        .status-unavailable {
            background-color: #f44336 !important;     /* Rojo para no disponible */
            border-color: #f44336 !important;        /* Borde rojo */
            color: white !important;                  /* Texto blanco */
            width: 70px;                    
            height: 12px;                    
            line-height: 12px;   
        }

        #search-input {
            width: 300px; /* Ajusta este valor según sea necesario */
            padding: 10px; /* Añade un poco de espacio interior */
            margin: 10px;
            font-size: 16px; /* Tamaño del texto para que sea legible */
            border: 1px solid #ccc; /* Borde para mejorar el diseño */
            border-radius: 5px; /* Esquinas redondeadas */
            box-sizing: border-box; /* Asegura que el padding no aumente el tamaño total */
            transition: border 0.3s ease, box-shadow 0.3s ease; /* Suaviza los cambios */
        }

        #search-input:focus {
            outline: none; /* Elimina el borde negro predeterminado */
        }

        /* Recuadro Categorias */
        .category-title {
            display: flex;
            justify-content: space-between;
            align-items: center;  
            background: linear-gradient(to bottom, #692d2d, #3f2222);
            color: white; /* Texto en blanco */
            /*padding: 15px; /* Espaciado interno */
            height: 50px;
            font-size: 20px; /* Tamaño de fuente */
            font-weight: bold; /* Texto en negrita */
            margin: 0px; /* Espaciado inferior */
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); /* Sombra ligera */
        }

        /* Recuadro de botones para móviles */
        .desktop-buttons {
            display: none; /* Ocultamos los botones en dispositivos pequeños */
        }
        
        .back-button {
            background-color: #e1e1e1;       /* Fondo blanco */
            color: #4b2121;               /* Texto verde */
            border: 2px solid #e3e3e3;
            padding: 6px 10px;            /* Espaciado interno */
            margin: 0px;
            border-radius: 15px;           /* Bordes redondeados */
            font-size: 14px;              /* Tamaño de la fuente */
            font-weight: bold;
            cursor: pointer;              /* Cambiar cursor al pasar por encima */
            transition: all 0.3s ease;    /* Animación suave para hover */
            box-shadow: inset 0 0 7px rgb(0 0 0 / 91%);
        }

        /* Hover: efecto al pasar el mouse */
        .back-button:hover {
          background-color: #ffffff;       /* Fondo blanco */
          box-shadow: inset 0 0 7px rgb(0 0 0 / 100%);
        }
        
        #donation {
            margin: 20px;
        }

        .donation-method,
        .contact-method,
        .location-method {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .donation-method i,
        .contact-method i,
        .location-method i {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .donation-method span,
        .contact-method span,
        .location-method span {
            font-size: 16px;
            font-weight: normal;
        }
        
        strong {
            font-weight: bold;
        }

        /* Estilo para el texto de agradecimiento */
        h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #5b2727;  /* Un color destacado, pero puedes cambiarlo */
            margin-top: 20px;
            margin-bottom: 20px;
        }

        
        /* Botón del menú desplegable */
        /* Contenedor del menú desplegable */
        .dropdown {
            position: relative;
            display: inline-block;
            /*display: flex;
            align-items: center; /* Centrar el botón verticalmente */
            /*justify-content: flex-end; /* Alinea el menú a la derecha */
        }

        /* Botón del menú desplegable */
        .dropdown-button {
            background: #5b2727;
            color: white;             
            border: 2px solid #311616;
            padding: 0px 12px;
            font-size: 22px;
            /*margin: 0px;*/
            margin-right: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            /*transition: all 0.3s ease;*/
        }
        
        .dropdown-button:hover {
            background: #4b2121;
        }
        
        /* Contenido del menú desplegable */
        .dropdown-content {
            display: none; /* Oculto por defecto */
            position: absolute;
            /*right: 0; /* Alineado al lado derecho del botón */
            left: 0;*/
            top: 100%; /* Se posiciona justo debajo del botón */
            width: auto; /* Ancho completo del recuadro */
            background-color: #f9f9f9;
            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 100; /* Sobre otros elementos */
            border-radius: 0 0 10px 10px; /* Bordes redondeados solo abajo */
            overflow: hidden; /* Recorta contenido si es necesario */
            white-space: nowrap; /* Evita que los textos se corten en varias líneas */
            margin: 0;
            padding: 0;
            /*padding: 10px 0;
            z-index: 1;
            border-radius: 10px;*/
        }
        
        /* Estilo de los enlaces dentro del menú */
        .dropdown-content a {
            display: block;
            color: #5b2727;
            text-decoration: none;
            min-width: 160px;
            padding: 10px 20px;
            font-size: 16px;
            text-align: center;
            border-bottom: 1px solid #ddd; /* Línea separadora */
        }
        
        .dropdown-content a:hover {
            background-color: #ddd;
        }
        
        /* Mostrar el menú cuando está activo */
        .dropdown.show .dropdown-content {
            display: block;
        }

        #map-container {
            display: flex;
            justify-content: center; /* Centra horizontalmente */
            align-items: center;    /* Centra verticalmente */
            flex-wrap: wrap;
            margin-top: 20px;
            margin: auto;
            width: min-content;
            padding: 10px 10px;
            background-color: #f1f1f1; /* Color de fondo */
            border: 1px solid #ddd; /* Borde claro */
            border-radius: 8px; /* Bordes redondeados */
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Sombra ligera */
            text-align: center; /* Centrar el texto */
        }
        
        #map-container h3 {
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
        }   

        #description {
            margin: 20px;
        }

        #description h3 {
            color: #444;
        }
        
        /* Mostrar botones en PC */
        @media (min-width: 768px) {
            .desktop-buttons {
                display: flex; /* Mostramos los botones en PC */
                /*gap: 4px; /* Espacio entre los botones */
            }
        
            /* Hacemos que los botones se alineen en una fila horizontal */
            .desktop-buttons button {
                background-color: transparent;
                color: white;
                border: none;
                border-radius: 0px;
                margin: 0;
                height: 50px;
                /*padding: 18px;
                font-size: 16px;
                font-weight: bold; /* Texto en negrita */
                cursor: pointer;
                position: relative; /* Necesario para posicionar las líneas verticales */
                transition: background-color 0.3s ease, transform 0.2s ease; /* Transición suave */
                 border-right: 2px solid #4c1b1b; /* Línea vertical oscura a la derecha */
            }
            
            /* Efecto al pasar el mouse por encima del botón */
            .desktop-buttons button:hover {
                background-color: #341414; /* Fondo más oscuro al pasar el mouse */
            }
            
            /* Ocultar el menú desplegable en pantallas grandes */
            .dropdown {
                display: none;
            }
        }
        
        /* Mostrar el menú desplegable solo en pantallas pequeñas */
        @media (max-width: 767px) {
            .desktop-buttons {
                display: none; /* Ocultamos los botones en pantallas pequeñas */
            }
        }

/* Estilos para el carrusel */
.carousel-wrapper {
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    border: 1px solid #ccc;
    padding: 10px;
}

.carousel-content {
    display: flex;
    transition: transform 0.3s ease;
    gap: 10px; /* Espaciado entre las tarjetas */
}

.carousel-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.8);
    border: 1px solid #ccc;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
    text-align: center;
    line-height: 40px;
    color: #333;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    z-index: 10;
}

.carousel-button:hover {
    background-color: rgba(200, 200, 200, 0.8);
}

/* Tarjetas del carrusel */
.carousel-book-card {
    flex: 0 0 auto; /* Las tarjetas no se estiran */
    width: 100px; /* Ancho fijo */
    height: 150px; /* Altura fija */
    border: 1px solid #ddd;
    border-radius: 8px;
    text-align: center;
    background-color: #fff;
    padding: 10px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden; /* Ocultar contenido que exceda el tamaño */
}

/* Imagen dentro de la tarjeta */
.carousel-book-card img {
    width: 100px; /* Mantener tamaño real */
    height: 150px; /* Mantener tamaño real */
    object-fit: cover; /* Asegurar que la imagen llene el espacio sin deformarse */
    border-radius: 5px;
}

/* Título del libro */
.carousel-book-card h4 {
    font-size: 12px;
    color: #333;
    margin-top: 5px; /* Separación pequeña */
}

/* Responsividad */

/* En pantallas grandes (PC), mostrar 4 libros */
@media (min-width: 1024px) {
    .carousel-wrapper {
        width: 440px; /* 4 libros (100px * 4) + espacio adicional (10px de gap y 20px para los botones) */
    }

    .carousel-content {
        gap: 10px; /* Espaciado adecuado entre los libros */
    }

    .carousel-book-card {
        flex: 0 0 100px; /* 4 tarjetas con ancho fijo */
    }
}

/* En tabletas, mostrar 2 libros */
@media (max-width: 768px) {
    .carousel-wrapper {
        width: 220px; /* 2 libros (100px * 2) + espacio adicional */
    }

    .carousel-book-card {
        flex: 0 0 100px; /* 2 tarjetas con ancho fijo */
    }
}

/* En dispositivos móviles, mostrar 1 libro */
@media (max-width: 480px) {
    .carousel-wrapper {
        width: 120px; /* 1 libro (100px) + espacio adicional */
    }

    .carousel-book-card {
        flex: 0 0 100px; /* 1 tarjeta con ancho fijo */
    }
}

        
    </style>
    <script>
        // Abrir y cerrar el menu desplegable
        function toggleMenu() {
            const dropdown = document.querySelector('.dropdown');
            dropdown.classList.toggle('show');
        }
        
        // Funcion para modificar el texto al recuadro secundario
        function updateGlobalTitle(title) {
            const dynamicText = document.getElementById('dynamic-text');
            const backButton = document.getElementById('menu-toggle');  // Botón desplegable // Botón de regreso
            dynamicText.textContent = title;
        }
        
        function normalizeCategoryName(name) {
            return name.toLowerCase().replace(/\s+/g, '').normalize("NFD").replace(/[\u0300-\u036f]/g, '');
        }
        
        function showCategories() {
            updateGlobalTitle("Categorías"); // Cambiar el título
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('categories').style.display = 'block';
            document.getElementById('donation').style.display = 'none';
            document.getElementById('book-list').style.display = 'none';
            document.getElementById('about-us').style.display = 'none';
        }
        
        function showDonation() {
            updateGlobalTitle("Donaciones"); // Cambiar el título
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('categories').style.display = 'none';
            document.getElementById('donation').style.display = 'block';
            document.getElementById('book-list').style.display = 'none';
            document.getElementById('about-us').style.display = 'none';
        }

        function showAboutUs() {
            updateGlobalTitle("Sobre Nosotros"); // Cambiar el título
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('categories').style.display = 'none';
            document.getElementById('donation').style.display = 'none';
            document.getElementById('book-list').style.display = 'none';
            document.getElementById('about-us').style.display = 'block'; 
        }
        
        function goBackToMenu() {
            updateGlobalTitle("Menú Principal"); // Cambiar el título
            document.getElementById('main-menu').style.display = 'block';
            document.getElementById('categories').style.display = 'none';
            document.getElementById('donation').style.display = 'none';
            document.getElementById('book-list').style.display = 'none';
            document.getElementById('about-us').style.display = 'none';
        }

        async function showBooks(category) {          
            // Ocultar otras secciones y mostrar la lista de libros
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('categories').style.display = 'none';
            document.getElementById('donation').style.display = 'none';
            document.getElementById('book-list').style.display = 'block';
            document.getElementById('about-us').style.display = 'none';

            // Limpiar y mostrar libros
            const booksContainer = document.getElementById('books-container');
            booksContainer.innerHTML = ''; // Limpiar contenedor
        
            try {    
                // Cargar categorías desde el archivo categories.json
                const responseCat = await fetch('categories.json');
                const categories = await responseCat.json();
            
                // Buscar la categoría correspondiente en el JSON
                const selectedCategory = categories.find(cat => normalizeCategoryName(cat.name) === category);
                //updateGlobalTitle(`Categoría: ${selectedCategory.name}`) // Cambiar el título a la categoría seleccionada
                updateGlobalTitle(`${selectedCategory.name}`) // Cambiar el título a la categoría seleccionada
                const response = await fetch('books.json', { cache: 'no-store' });
                const books = await response.json();
                
                const selectedBooks = books[category] || [];
                selectedBooks.forEach(bookArray => {
                    const [title, author, status, coverImage] = bookArray;
        
                    const bookCard = document.createElement('div');
                    bookCard.classList.add('book-card');
                    bookCard.innerHTML = `
                        <img src="${coverImage}" alt="Portada de ${title}" class="book-cover">
                        <div class="book-details">
                            <div class="book-title">${title}</div>
                            <div class="book-author">${author}</div>
                            <div class="status-box ${status === 'available' ? 'status-available' : 'status-unavailable'}">
                                ${status === 'available' ? 'Disponible' : 'No Disponible'}
                            </div>
                        </div>
                    `;
                    booksContainer.appendChild(bookCard);
                });
            } catch (error) {
                console.error('Error al cargar los libros:', error);
            }
        }

        // Funcion para que el buscador no distinga entre mayusculas, minusculas y tildes
        function normalizeText(text) {
            return text.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }
        
        function searchBooks() {
            const query = normalizeText(document.getElementById('search-input').value);
            const books = document.querySelectorAll('.book-card');
        
            books.forEach(book => {
                const title = normalizeText(book.querySelector('.book-title').textContent);
                const author = normalizeText(book.querySelector('.book-author').textContent);
        
                if (title.includes(query) || author.includes(query)) {
                    book.style.display = 'flex';
                } else {
                    book.style.display = 'none';
                }
            });
        }

        async function loadCategories() {         
            const categoriesContainer = document.getElementById('categories-container');
            categoriesContainer.innerHTML = ''; // Limpiar contenedor
        
            try {
                const response = await fetch('categories.json', { cache: 'no-store' });
                const categories = await response.json();
        
                categories.forEach(category => {
                    const normalizedCategory = normalizeCategoryName(category.name);
        
                    const categoryCard = document.createElement('div');
                    categoryCard.classList.add('category-card');
                    categoryCard.innerHTML = `
                        <img src="${category.image}" alt="Portada de ${category.name}" class="category-cover">
                        <div class="category-details">
                            <div class="category-name">${category.name}</div>
                            <p class="category-description">${category.description}</p>
                            <button class="custom-button" onclick="showBooks('${normalizedCategory}')">Ver Libros</button>
                        </div>
                    `;
                    categoriesContainer.appendChild(categoryCard);
                });
            } catch (error) {
                console.error('Error al cargar las categorías:', error);
            }
        }

        // Llama a esta función cuando se muestren las categorías
        document.addEventListener('DOMContentLoaded', () => {
            loadCategories();
        });

        function filterByAvailability(status) {
            const books = document.querySelectorAll('.book-card');
        
            books.forEach(book => {
                const isAvailable = book.querySelector('.status-box').classList.contains('status-available');
                if ((status === 'available' && isAvailable) || (status === 'unavailable' && !isAvailable)) {
                    book.style.display = 'flex';
                } else {
                    book.style.display = 'none';
                }
            });
        }

document.addEventListener('DOMContentLoaded', () => {
    const liturgicalTime = "Navidad"; // Tiempo litúrgico actual
    const liturgicalTimeDisplay = document.getElementById('liturgical-time');
    liturgicalTimeDisplay.textContent = liturgicalTime;

    // Cargar libros recomendados
    loadRecommendedBooks(liturgicalTime).then(() => {
        setupCarousel();
    });
});

function loadRecommendedBooks(liturgicalTime) {
    return fetch('recommended-books.json')
        .then(response => response.json())
        .then(data => {
            const carouselContainer = document.getElementById('carousel-container');
            carouselContainer.innerHTML = ''; // Limpiar el contenedor

            const books = data[liturgicalTime] || [];

            books.forEach(book => {
                const title = book[0];
                const image = book[1];

                // Crear tarjeta para el libro
                const bookCard = document.createElement('div');
                bookCard.classList.add('carousel-book-card');
                bookCard.innerHTML = `
                    <img src="${image}" alt="${title}">
                    <h4>${title}</h4>
                `;

                carouselContainer.appendChild(bookCard);
            });
        })
        .catch(error => console.error('Error al cargar los libros:', error));
}

function setupCarousel() {
    const carouselContainer = document.getElementById('carousel-container');
    const prevButton = document.getElementById('prev-button');
    const nextButton = document.getElementById('next-button');
    const bookCards = document.querySelectorAll('.carousel-book-card');

    if (bookCards.length === 0) {
        console.warn('No hay libros en el carrusel.');
        return;
    }

    const cardWidth = bookCards[0].offsetWidth + 10; // Ancho de tarjeta + gap
    let currentPosition = 0;

    // Mover el carrusel a la posición actual
    function updateCarousel() {
        const translateX = -currentPosition * cardWidth;
        carouselContainer.style.transform = `translateX(${translateX}px)`;
        updateButtons();
    }

    // Actualizar estado de los botones
    function updateButtons() {
        prevButton.disabled = currentPosition === 0;
        nextButton.disabled = currentPosition >= bookCards.length - Math.floor(carouselContainer.offsetWidth / cardWidth);
    }

    // Eventos de los botones
    prevButton.addEventListener('click', () => {
        if (currentPosition > 0) {
            currentPosition--;
            updateCarousel();
        }
    });

    nextButton.addEventListener('click', () => {
        if (currentPosition < bookCards.length - Math.floor(carouselContainer.offsetWidth / cardWidth)) {
            currentPosition++;
            updateCarousel();
        }
    });

    // Inicializar carrusel
    updateCarousel();
}



        



    </script>
</head>
<body>
    <!-- Encabezado principal -->
    <header>
        <h1>Biblioteca San Francisco Solano</h1>
    </header>

    <!-- Recuadro para el menú -->
    <h2 class="category-title">
        <!-- Menú desplegable (solo visible en móviles) -->
        <div class="dropdown">
            <button class="dropdown-button" id="menu-toggle" onclick="toggleMenu()">☰</button>
            <div class="dropdown-content" id="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); goBackToMenu(); toggleMenu();">Menú Principal</a>
                <a href="#" onclick="event.preventDefault(); showCategories(); toggleMenu();">Categorías</a>
                <a href="#" onclick="event.preventDefault(); showAboutUs(); toggleMenu();">Sobre Nosotros</a>
                <a href="#" onclick="event.preventDefault(); showDonation(); toggleMenu();">Donar</a>
            </div>
        </div>
        
        <!-- Botones visibles en PC -->
        <div class="desktop-buttons">
            <button onclick="goBackToMenu()">Menú Principal</button>
            <button onclick="showCategories()">Categorías</button>
            <button onclick="showAboutUs()">Sobre Nosotros</button>
            <button onclick="showDonation()">Donar</button>
        </div>
    </h2>

     <!-- Título dinámico sin estilos de category-title -->
    <div class="dynamic-section" style="margin: 20px;">
        <h2 id="dynamic-text">Menú Principal</h2>
    </div>
    
   <!--  <h2 class="category-title" id="global-title">Menú Principal</h2>   --> 
    <!-- Menú principal con botones para navegar -->
    <nav id="main-menu">   
        <!-- Libros Recomendados -->
        <div id="recommended-books" style="margin-top: 20px;">
            <h3>Libros Recomendados para el Tiempo de <span id="liturgical-time"></span></h3>
            <div class="carousel-wrapper" style="position: relative; overflow: hidden; border: 1px solid #ccc; border-radius: 5px; padding: 10px;">
                <!-- Botón de navegación izquierda -->
                <button id="prev-button" class="carousel-button" style="left: 10px;">◀</button>
        
                <!-- Carrusel de libros -->
                <div id="carousel-container" class="carousel-content">
                    <!-- Los libros se agregarán dinámicamente aquí -->
                </div>
        
                <!-- Botón de navegación derecha -->
                <button id="next-button" class="carousel-button" style="right: 10px;">▶</button>
            </div>
        </div>


    </nav>

    <!-- Sección de Categorías -->
    <div id="categories" style="display: none;">
        <div id="categories-container"></div>
    </div>

    <!-- Sección de Sobre Nosotros -->
    <div id="about-us" style="display: none;">
        <p style="margin: 0 20px;">Información sobre nosotros...</p>
    </div>

    <!-- Sección de Donación -->
    <div id="donation" style="display: none;">
        <p>Si querés realizar un aporte económico para que la biblioteca San Francisco Solano siga creciendo, tanto en mejoras en estantes (es decir, en lo físico) como en compras de libros, podés hacerlo a través del siguiente Alias:</p>
    
        <!-- Logotipo de Mercado Pago y Alias -->
        <div class="donation-method">
            <img src="mercado-pago.svg" style="width: 24px; margin-right: 10px;">
            <!--<i class="fa-solid fa-credit-card" style="color: #3da2f0;"></i> -->
            <span>Alias: <strong>bibliotecasolano.mp</strong></span> <!-- Pon aquí el alias de Mercado Pago -->
        </div>
        
        <p>Si querés donar algún libro, podés comunicarte a este número de WhatsApp o podés acercarte a la biblioteca:</p>
    
        <!-- Logotipo de WhatsApp y número -->
        <div class="contact-method">
            <i class="fa-brands fa-whatsapp" style="color: #11d41e;"></i>
            <span>WhatsApp: <strong>+54 9 2604 03-9168</strong></span> <!-- Reemplaza por el número de WhatsApp -->
        </div>
    
        <!-- Logotipo de Ubicación y dirección -->
        <div class="location-method">
            <i class="fa-solid fa-location-dot" style="color: #f50000;"></i>
            <span>Ubicación: <strong>Fray Inalican y Av. Cardonato (San Rafael, Mendoza)</strong></span> <!-- Dirección de la biblioteca -->
        </div>

        <!-- Texto de agradecimiento -->
        <h3>¡¡Tu colaboración se agradece!!</h3>    
    </div>

    <!-- Sección de Libros -->
    <div id="book-list" style="display: none;"> 
        <input type="text" id="search-input" placeholder="Buscar libro por título o autor..." oninput="searchBooks()">
        <div class="filter-buttons">
            <button class="filter-btn" onclick="filterByAvailability('available')">Solo Disponibles</button>
            <button class="filter-btn" onclick="filterByAvailability('unavailable')">Solo No Disponibles</button>
        </div>
        
        <!-- Contenedor de los libros -->
        <div id="books-container"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
